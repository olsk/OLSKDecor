<!DOCTYPE html><% include(locals.OLSKLayoutPartial, {
	locals,
}) %>
<html<%- locals.OLSKSharedPageCurrentLanguage ? [' lang="', OLSKSharedPageCurrentLanguage, '"'].join('') : ''; %>>
<head>
	<%- (function() {
	let outputData = [];
	
	if (locals.OLSKPageTitle) {
		outputData.push(`<title>${ locals.OLSKPageTitle }</title>`);
	}

	if (locals.OLSKPageDescription) {
		outputData.push(`<meta name="description" content="${ locals.OLSKPageDescription }" />`);
	}

	outputData.push(...[
		`<meta http-equiv="Content-Type" content="text/html; charset=utf-8">`,
		`<link rel="icon" href="data:;base64,=">`, // https://stackoverflow.com/questions/1321878/how-to-prevent-favicon-ico-requests
		]);

	outputData.push(...Object.keys(locals.OLSKPageMetaTags || {}).map(function(e) {
		return `<meta name="${ e }" content="${ locals.OLSKPageMetaTags[e] }">`;
	}));

	if (locals.OLSKSharedActiveRouteConstant) {
		outputData.push(`<link rel="canonical" href="${ OLSKCanonicalFor(locals.OLSKSharedActiveRouteConstant) }" />`);
	}

	outputData.push(...(locals.OLSKSharedPageLanguagesAvailable || []).map(function (e) {
		return `<link rel="alternate" hreflang="${ e }" href="${ OLSKCanonicalLocalizedFor(OLSKSharedActiveRouteConstant, {
			OLSKRoutingLanguage: e,
		}) }" />`;
	}));

	if (locals.OLSKPagePublicConstants) {
		outputData.push(`<script type="text/javascript">
		window.OLSKPublicConstants = function (inputData) {
			return ${ JSON.stringify(OLSKPagePublicConstants) }[inputData];
		};
	</script>`);
	}

	if (locals.OLSKPageUseLivereload) {
		outputData.push(`<script>
  document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
  ':35729/livereload.js?snipver=1"></' + 'script>')
</script>`)
	};

	if (locals.OLSKPageTouchIconURL) {
		outputData.push(`<link rel="apple-touch-icon" href="${ locals.OLSKPageTouchIconURL }">`);
	}

	let pathToTag = function (e) {
		if (e.indexOf('http') === 0) {
			return `<script src="${ e }"></script>`;
		}

		let path = (e[0] === '/' ? '' : `/${ locals.OLSKSharedPageControllerSlug }/`).concat(e);

		if (path.split('.').pop() === 'css') {
			return `<link rel="stylesheet" type="text/css" href="${ path }">`;
		}

		if (path.split('.').pop() === 'js') {
			return `<script src="${ path }"></script>`;
		}
	};

	if (locals.OLSKPagePublicLocalizedStringKeys) {
		outputData.push(...[
			'/_shared/__external/OLSKInternational/main.js',
			'/_shared/__external/OLSKString/main.js',
			].map(pathToTag));
		
		outputData.push(`<script type="text/javascript">
		window.OLSKFormatted = OLSKString.OLSKStringWithFormat;
		window.OLSKLocalized = function(translationConstant) {
			return OLSKInternational.OLSKInternationalLocalizedString(translationConstant, ${ JSON.stringify(OLSKPagePublicLocalizedStringKeys.reduce(function(map, e) {
					map[e] = OLSKLocalized(e);
					return map;
				}, {})) });
		};
	</script>`);
	}

	if (locals.OLSKPagePublicRouteKeys) {
		outputData.push(...[
			'/_shared/__external/OLSKRouting/main.js',
			].map(pathToTag));
		
		outputData.push(`<script type="text/javascript">
		window.OLSKCanonicalFor = function(routeConstant, optionalParams) {
			return OLSKRouting.OLSKRoutingCanonicalPath((${ JSON.stringify(OLSKPagePublicRouteKeys.reduce(function (map, e) {
				map[e] = OLSKRouteObjectFor(e).OLSKRoutePath;
				return map;
			}, {})) })[routeConstant], optionalParams);
		};
	</script>`);
	}

	outputData.push(...(locals.OLSKPageAssets || []).map(pathToTag));

	outputData.push(...(locals.OLSKPageHeadLines || []));

	return outputData.join('\n\t');
})(); %>
</head>

<body>

<%- include(locals.OLSKLayoutPartial) %>

</body>
</html>